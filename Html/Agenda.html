<html>
    <head>
        <title>Agenda - Darkboard</title>
        <link rel='stylesheet' href='../css/index.css'>
        <link rel='stylesheet' href='../css/agenda.css'>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel='shortcut icon' href='../img/icon.ico' sizes="1000x1000">
        <script src='../JavaScript/Index.js'></script>
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
    </head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <body>
        <footer class='footer'><div>Icons from <a href="https://www.flaticon.com/" title="Flaticon">www.flaticon.com</a> is licensed by <a href="http://creativecommons.org/licenses/by/3.0/"  title="Creative Commons BY 3.0" target="_blank">CC 3.0 BY</a></div><br>
            Criado por João Victor Javitti Alves e Danilo de Oliveira Nunes, Direitos Reservados
                </footer>
        
                <ul class='aba'>
                    <a><li><img class='icon' src="../img/icons/bell.png" title='Notificacoes'><number></number></li></a>
                    <a onclick="IrPraUsu()"><li><img class='icon' src="../img/icons/user.png" title='Usuario'></li></a>
                    <a href='Home.html'><li><img class='icon' src="../img/icons/Home.png" title='Tarefas'></li></a>
                    <a href='Salas.html'><li><img class='icon' src="../img/icons/classroom.png" title='Salas'></li></a>
                    <a href='Calendário.html'><li><img class='icon' src="../img/icons/calendario.png" title='Calendario'></li></a>
                </ul>
        
                <ul class='menu'>      
                    <li><img id='menu' class='menuIcon' src='../img/icons/menu.png' title='Menu'></li>
                    <br>
                   <li><input id='pesq' type='text' class='pesquisa' value=' '></li>
                    <li><img id='pesqIcon' class='pesquisaIcon' src='../img/icons/search.png'></li>
                    <li class='logo'><a href='#'><img src='../img/logo.png'></a></li>
                </ul>
                <ul class='inserc'>
                    <li>Evento: <input class='input' type="text" id='evento'></li>
                    <li>Data:<input class='input' type='text' id='data' value='DD/MM/AAAA - HH:MM'></li> 
                    <!-- <li>Ano: <input type='text' class='input' id='ano'></li>
                    <li>Mês: <select class='input' id='mes' onfocus="ChecarAno()" onchange='Dia(this)'>
                            <option></option>
                            <option value='1'>Janeiro</option>
                            <option value='2'>Fevereiro</option>
                            <option value='3'>Março</option>
                            <option value='4'>Abril</option> 
                            <option value='5'>Maio</option>
                            <option value='6'>Junho</option>     
                            <option value='7'>Julho</option>
                            <option value='8'>Agosto</option> 
                            <option value='9'>Setembro</option>
                            <option value='10'>Outubro</option> 
                            <option value='11'>Novembro</option>
                            <option value='12'>Dezembro</option></select></li>
                    <li>Dia:<select class='input' id='dia'><option></option></select></li>
                    <li>Horas: <input class='inputSmall' type='number' min='0' max='23'></li>
                    <li>Minutos: <input class='inputSmall' type='number' min='0' max='59'></li> -->
                    <li><button class='btnInsec' onclick="Inserir()">Inserir</button>*</li>
                </ul>

                <div class='agenda' id='agenda'>
                </div>
        
               
                
                <script type="text/javascript">
                    var ev  = true;
                    var numeroEventos = 10;
                    var not = 0;
                    var evento = "Aniversário";
                    var data = "25/08";
                    var hora = "14:00";

                    $('#data').focusin(function(){
                        if(document.getElementById('data').value =="DD/MM/AAAA - HH:MM")
                        document.getElementById('data').value = "";
                    });

                    $('#data').focusout(function(){
                        var d = document.getElementById('data');
                        if(d.value == "")
                        {
                            d.value = "DD/MM/AAAA - HH:MM";
                        }
                    });


                    if(!ev)
                    {
                        $(".agenda").html("Nada programado por enquanto");
                    }
                    else
                    {
                        for(i = 0; i < numeroEventos; i++)
                           document.getElementById("agenda").innerHTML += (`<ul><li>${evento} - ${data} - ${hora} <button class='btn'>Apagar</button><button class='btn'>Concluída</button></li> </ul>`);
                        document.getElementById("agenda").innerHTML+= "*Desconsidere que o tempo é relativo";
                    }
        
                    if(not == 0)
                    {
                        $("number").hide();
                    }
                    else if(not < 10)
                    {
                        $("number").html(not);
                    }
                    else
                    {
                        $("number").html(not)
                        $("number").css('padding-right', '5px');
                        $("number").css('padding-left', '5px');
                    }
                    var menu = false;
                    $(".menuIcon").click(function(){
                        if(!menu){
                            $(".aba").css("margin-left", "-10");
                            $("#menu").attr('src', '../img/icons/exit.png');
                            $(".menuIcon").css("margin-left", "150");
                            menu = true;
                        }
                        else
                        {
                            $(".aba").css("margin-left", "-1000");
                            $("#menu").attr('src', '../img/icons/menu.png'); 
                            $(".menuIcon").css("margin-left", "15");
                            menu = false;
                        }
                    })

                    function Dia(sel)
                    {                       
                        $('#dia').css("display", "inline");
                        switch(sel.value)
                        {
                            case "2":
                            {
                                ano = document.getElementById("ano").value;
                                var df;
                                console.log(ano);
                                if(ano%4 == 0 && ano%100 != 0 || ano%400 == 0)
                                    df = 29;
                                else
                                    df = 28;
                                for(i = 1; i <= df; i++)
                                    $('#dia').append(new Option(i, i));
                            }
                            break;
                            case "4":
                            case "6":
                            case"9":
                            case "11":
                            {
                                for(i = 1; i < 31; i++)
                                    $('#dia').append(new Option(i, i));
                            }
                            break;
                            case "1":
                            case "3":
                            case"5":
                            case "7":
                            case "8":
                            case "10":
                            case"12":
                            {
                                for(i = 1; i <= 31; i++)
                                    $('#dia').append(new Option(i, i));
                            }
                        }
                    }
                    function ChecarAno()
                    {
                        tacertu = true;
                        ano = document.getElementById('ano').value;
                        if(ano == "")
                            tacertu = false;     
                        d = new Date();

                        if(isNaN(ano))
                            tacertu = false;
                        if(d.getYear() > ano - 1900)
                            tacertu = false;


                        if(tacertu == false)
                        {
                            $("#ano").val("");
                            $("#ano").focus();
                            alert('Digite um Ano válido');

                        }

                    }

                    function Inserir()
                    {
                        tacertu = true;
                        ano = document.getElementById('data').value.substring(6,10);
                        
                        if(ano == "")
                            tacertu = false;     
                        d = new Date();

                        if(isNaN(ano))
                            tacertu = false;
                        if(d.getYear() > ano - 1900)
                            tacertu = false;

                        mes = document.getElementById('data').value.substring(3,5);

                        if(mes == "")
                            tacertu = false;

                        if(isNaN(mes))
                            tacertu = false;

                        if(d.getMonth()+1 > mes && d.getYear() >= ano - 1900)
                            tacertu = false;

                        if(mes > 12)
                            tacertu = false;

                        dia = document.getElementById('data').value.substring(0, 2);

                        if(dia = "")
                            tacertu = false;

                        if(isNaN(dia))
                            tacertu = false;
                        if(d.getDate() > dia && d.getMonth()+1 >= mes && d.getYear() >= ano - 1900)
                            tacertu = false;
                        
                        switch(mes)
                        {
                            case "2":
                            {
                                ano = document.getElementById("ano").value;
                                var df;
                                console.log(ano);
                                if(ano%4 == 0 && ano%100 != 0 || ano%400 == 0)
                                   if(dia > 29)
                                    tacertu = false;
                                else
                                if(dia > 28)
                                    tacertu = false;
                            }
                            break;
                            case "4":
                            case "6":
                            case"9":
                            case "11":
                            {
                                if(dia > 30)
                                tacertu = false;
                            }
                            break;
                            case "1":
                            case "3":
                            case"5":
                            case "7":
                            case "8":
                            case "10":
                            case"12":
                            {
                                if(dia > 31)
                                tacertu = false;
                            }
                        }


                        hora = document.getElementById('data').value.substring(13, 15);
                        if(hora == "")
                            tacertu = false;

                        if(isNaN(hora))
                            tacertu = false;

                        if(hora > 23)
                            tacertu = false;

                        min = document.getElementById("data").value.substring(17,19);
                        if(min == "")
                            tacertu = false;

                        if(isNaN(min))
                            tacertu = false;

                        if(min > 59)
                            tacertu = false;

                        if(tacertu == false)
                        {
                            $("#data").val("");
                            $("#data").focus();
                            alert('Digite uma data válida');
                        }

                        


                    }

                    var menu = false;
            $(".menuIcon").click(function(){
                if(!menu){
                    $(".aba").css("margin-left", "-10");
                    $("#menu").attr('src', '../img/icons/exit.png');
                    $(".menuIcon").css("margin-left", "150");
                    menu = true;
                }
                else
                {
                    $(".aba").css("margin-left", "-1000");
                    $("#menu").attr('src', '../img/icons/menu.png'); 
                    $(".menuIcon").css("margin-left", "15");
                    menu = false;
                }
            })

            
            var not =0;

            if(not == 0)
            {
                $("number").hide();
            }
            else if(not < 10)
            {
                $("number").html(not);
            }
            else
            {
                $("number").html(not)
                $("number").css('padding-right', '5px');
                $("number").css('padding-left', '5px');
            }
                </script>
            </body>
</html>